{
  "permissions": {
    "allow": [
      "Bash(.venv/Scripts/python.exe create_user_simple.py)",
      "Bash(rm -rf frontend/node_modules/.cache)",
      "Bash(.venv/Scripts/python.exe:*)",
      "Bash(npm run build:*)",
      "Bash(python -m flask:*)",
      "Bash(source:*)",
      "Bash(timeout 5 python:*)",
      "Bash(curl:*)",
      "Bash(flask db migrate:*)",
      "Bash(../.venv/Scripts/python.exe -m flask db migrate:*)",
      "Bash(FLASK_APP=run.py .venv/Scripts/python.exe -m flask:*)",
      "Bash(npm start)",
      "Bash(dir:*)",
      "Bash(find:*)",
      "Bash(taskkill:*)",
      "Bash(../.venv/Scripts/python.exe -m pip show:*)",
      "Bash(.venvScriptspython.exe -m flask db current)",
      "Bash(cd:*)",
      "Bash(pip install:*)",
      "Bash(npm install:*)",
      "Bash(python:*)",
      "Bash(.venvScriptsactivate)",
      "Bash(flask --app run:app db upgrade:*)",
      "Bash(.venvScriptspython.exe -m flask --app run:app db upgrade)",
      "Bash(./.venv/Scripts/flask:*)",
      "Read(//d//**)",
      "Bash(git merge:*)",
      "Bash(FLASK_APP=backend/run.py python -m flask:*)",
      "Bash(FLASK_APP=run.py python -m flask db migrate:*)",
      "Bash(FLASK_APP=run.py python -m flask:*)",
      "Bash(.venvScriptspython.exe -m flask db migrate -m \"Add ListaMaeItem model for master list items\")",
      "Bash(\"D:\\Codigos VSCode\\Kaizen_lista_app\\.venv\\Scripts\\python.exe\" -m flask db migrate -m \"Add ListaMaeItem model for master list items\")",
      "Bash(FLASK_CONFIG=development FLASK_APP=run.py python -m flask run:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(awk:*)",
      "Bash(xargs kill:*)",
      "Bash(pkill:*)",
      "Bash(git reset:*)",
      "Bash(xargs findstr:*)",
      "Bash(sqlite3:*)",
      "Bash(nul)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(set:*)",
      "Bash(.venvScriptspython.exe -m flask db migrate -m \"Add responsavel and observacao fields to Fornecedor\")",
      "Bash(FLASK_APP=run.py ../.venv/bin/python -m flask:*)",
      "Bash(.venv/bin/python -m flask:*)",
      "Bash(./run-backend.sh:*)",
      "Bash(git checkout:*)",
      "Bash(FLASK_APP=kaizen_app:create_app ../.venv/bin/python -m flask:*)",
      "Bash(flask db:*)",
      "Bash(cat:*)",
      "Bash(ls:*)",
      "Bash(git ls-tree:*)",
      "Bash(git log:*)",
      "Bash(grep:*)",
      "Bash(mkdir:*)",
      "Bash(.venv/bin/python:*)",
      "Bash(timeout 10 .venv/bin/python:*)",
      "Bash(timeout 5 .venv/bin/python:*)",
      "Bash(env)",
      "Bash(export DATABASE_URL:*)",
      "Bash(/home/devos/Codigos-vscode/ListaKaizenApp/backend/.venv/bin/python:*)",
      "Bash(if [ -f requirements.txt ])",
      "Bash(then grep -E \"flake8|pylint|black\" requirements.txt)",
      "Bash(fi)",
      "Bash(pytest:*)",
      "Bash(../.venv/bin/python -m pytest:*)",
      "Bash(git -C /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy rev-parse --show-toplevel)",
      "Bash(git remote set-url origin https://github.com/AndrewDevos1/ListaKaizenApp-MultiTenant.git && git remote -v)",
      "Bash(git stash pop 2>/dev/null || echo \"No stash to pop\")",
      "Bash(git clone --depth=1 --branch master https://github.com/AndrewDevos1/ListaKaizenApp.git /tmp/legacy-clone 2>&1)",
      "Bash(git -C /tmp/legacy-temp log --oneline -3 2>/dev/null; cat /tmp/legacy-clone/.git/FETCH_HEAD 2>/dev/null || git show /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/CHANGELOG.md 2>/dev/null | head -10 || head -5 /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/CHANGELOG.md)",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/api && npx prisma migrate dev --name add-submissoes-pedidos 2>&1)",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/api && npx prisma db push 2>&1)",
      "Bash(npx prisma db push 2>&1)",
      "Bash(npx tsc --project apps/api/tsconfig.json --noEmit 2>&1 | head -30)",
      "Bash(npx ts-node apps/api/prisma/seed.ts 2>&1 | tail -60)",
      "Bash(npx ts-node apps/api/prisma/seed.ts 2>&1 | tail -40)",
      "Bash(npx tsc --project apps/api/tsconfig.json --noEmit 2>&1 | grep -v \"node_modules\" | head -20)",
      "mcp__ide__getDiagnostics",
      "Bash(which convert magick python3 node 2>/dev/null; python3 -c \"from PIL import Image; print\\('pillow ok'\\)\" 2>/dev/null || echo \"no pillow\")",
      "Bash(mkdir -p /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/web/public/icons && python3 << 'EOF'\nfrom PIL import Image, ImageDraw, ImageFont\nimport os\n\noutput_dir = \"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/web/public/icons\"\n\n# Cor primária Bootstrap \\(azul\\)\nBG_COLOR = \\(13, 110, 253\\)      # #0d6efd\nTEXT_COLOR = \\(255, 255, 255\\)   # branco\n\nfor size in [192, 512]:\n    img = Image.new\\(\"RGBA\", \\(size, size\\), \\(0, 0, 0, 0\\)\\)\n    draw = ImageDraw.Draw\\(img\\)\n\n    # Fundo com cantos arredondados\n    radius = size // 6\n    draw.rounded_rectangle\\([0, 0, size, size], radius=radius, fill=BG_COLOR\\)\n\n    # Letra \"K\" centralizada\n    font_size = int\\(size * 0.55\\)\n    try:\n        font = ImageFont.truetype\\(\"/usr/share/fonts/truetype/dejavu/DejaVuSans-Bold.ttf\", font_size\\)\n    except:\n        font = ImageFont.load_default\\(\\)\n\n    # Calcular posição centralizada\n    bbox = draw.textbbox\\(\\(0, 0\\), \"K\", font=font\\)\n    text_w = bbox[2] - bbox[0]\n    text_h = bbox[3] - bbox[1]\n    x = \\(size - text_w\\) // 2 - bbox[0]\n    y = \\(size - text_h\\) // 2 - bbox[1]\n\n    draw.text\\(\\(x, y\\), \"K\", font=font, fill=TEXT_COLOR\\)\n\n    path = os.path.join\\(output_dir, f\"icon-{size}.png\"\\)\n    img.save\\(path, \"PNG\", optimize=True\\)\n    print\\(f\"Criado: {path}\"\\)\n\nprint\\(\"Ícones gerados com sucesso!\"\\)\nEOF)",
      "Bash(python3 << 'EOF'\nfrom PIL import Image\n\nfiles = [\n    \"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/frontend/public/logo192.png\",\n    \"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/frontend/public/logo512.png\",\n    \"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/logo/kaizen logo black.png\",\n]\nfor f in files:\n    try:\n        img = Image.open\\(f\\)\n        print\\(f\"{f.split\\('/'\\)[-1]}: {img.size} mode={img.mode}\"\\)\n    except Exception as e:\n        print\\(f\"{f}: ERRO - {e}\"\\)\nEOF)",
      "Bash(python3 << 'EOF'\nfrom PIL import Image\n\nimg = Image.open\\(\"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/frontend/public/logo192.png\"\\)\n# Verificar pixel do centro e do canto\ncenter = img.getpixel\\(\\(96, 96\\)\\)\ncorner = img.getpixel\\(\\(0, 0\\)\\)\nprint\\(f\"Centro: {center}\"\\)\nprint\\(f\"Canto \\(0,0\\): {corner}\"\\)\n\n# Checar se tem fundo transparente\narr = img.convert\\(\"RGBA\"\\)\ncorners = [arr.getpixel\\(\\(0,0\\)\\), arr.getpixel\\(\\(191,0\\)\\), arr.getpixel\\(\\(0,191\\)\\), arr.getpixel\\(\\(191,191\\)\\)]\nprint\\(f\"4 cantos: {corners}\"\\)\nEOF)",
      "Bash(python3 << 'EOF'\nfrom PIL import Image\nimport os\n\nsrc = Image.open\\(\"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/legacy/frontend/public/logo512.png\"\\).convert\\(\"RGBA\"\\)\noutput_dir = \"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/web/public/icons\"\n\nfor size in [192, 512]:\n    # Fundo branco\n    bg = Image.new\\(\"RGBA\", \\(size, size\\), \\(255, 255, 255, 255\\)\\)\n\n    # Padding de 15% para a safe area do maskable icon\n    padding = int\\(size * 0.15\\)\n    logo_size = size - 2 * padding\n\n    logo = src.resize\\(\\(logo_size, logo_size\\), Image.LANCZOS\\)\n\n    # Centralizar o logo no fundo branco\n    bg.paste\\(logo, \\(padding, padding\\), logo\\)\n\n    # Salvar como PNG\n    final = bg.convert\\(\"RGB\"\\)  # sem transparência\n    path = os.path.join\\(output_dir, f\"icon-{size}.png\"\\)\n    final.save\\(path, \"PNG\", optimize=True\\)\n    print\\(f\"Salvo: {path} \\({size}x{size}\\)\"\\)\n\nprint\\(\"Ícones PWA gerados com logo original do Kaizen!\"\\)\nEOF)",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/api && node -e \"const wp = require\\('web-push'\\); const keys = wp.generateVAPIDKeys\\(\\); console.log\\('VAPID_PUBLIC_KEY=' + keys.publicKey\\); console.log\\('VAPID_PRIVATE_KEY=' + keys.privateKey\\);\")",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/api && npx prisma db push)",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/api && npx tsc --noEmit 2>&1 | head -60)",
      "Bash(mkdir -p /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/web/public/avatars && python3 << 'PYEOF'\nfrom PIL import Image, ImageDraw\nimport math, os\n\nOUT = \"/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/web/public/avatars\"\nSIZE = 200\n\n# \\(bg_color, accent_color, shape\\)\nPRESETS = [\n    \\(\"ocean\",   \\(29,  78, 216\\),  \\(96, 165, 250\\),  \"person\"\\),\n    \\(\"forest\",  \\(22, 163,  74\\),  \\(134, 239, 172\\), \"leaf\"\\),\n    \\(\"grape\",   \\(126, 34, 206\\),  \\(196, 181, 253\\), \"diamond\"\\),\n    \\(\"sunset\",  \\(234, 88,  12\\),  \\(253, 186, 116\\), \"star\"\\),\n    \\(\"teal\",    \\(13, 148, 136\\),  \\(94,  234, 212\\), \"wave\"\\),\n    \\(\"rose\",    \\(190,  18,  60\\), \\(251, 207, 232\\), \"heart\"\\),\n    \\(\"slate\",   \\(51,  65,  85\\),  \\(148, 163, 184\\), \"bolt\"\\),\n    \\(\"amber\",   \\(180, 83,   9\\),  \\(253, 230, 138\\), \"circle\"\\),\n]\n\ndef draw_person\\(draw, cx, cy, r, col\\):\n    # head\n    draw.ellipse\\([cx-r*0.28, cy-r*0.55, cx+r*0.28, cy-r*0.05], fill=col\\)\n    # body arc\n    draw.ellipse\\([cx-r*0.55, cy+r*0.1, cx+r*0.55, cy+r*0.9], fill=col\\)\n\ndef draw_leaf\\(draw, cx, cy, r, col\\):\n    pts = [\\(cx, cy-r*0.7\\), \\(cx+r*0.55, cy\\), \\(cx, cy+r*0.7\\), \\(cx-r*0.55, cy\\)]\n    draw.polygon\\(pts, fill=col\\)\n\ndef draw_diamond\\(draw, cx, cy, r, col\\):\n    pts = [\\(cx, cy-r*0.65\\), \\(cx+r*0.45, cy\\), \\(cx, cy+r*0.65\\), \\(cx-r*0.45, cy\\)]\n    draw.polygon\\(pts, fill=col\\)\n\ndef draw_star\\(draw, cx, cy, r, col\\):\n    pts = []\n    for i in range\\(10\\):\n        ang = math.radians\\(-90 + i*36\\)\n        rr = r*0.6 if i % 2 == 0 else r*0.28\n        pts.append\\(\\(cx + rr*math.cos\\(ang\\), cy + rr*math.sin\\(ang\\)\\)\\)\n    draw.polygon\\(pts, fill=col\\)\n\ndef draw_wave\\(draw, cx, cy, r, col\\):\n    # 3 stacked arcs\n    for dy, w in [\\(-r*0.2, r*0.55\\), \\(0, r*0.5\\), \\(r*0.2, r*0.45\\)]:\n        draw.arc\\([cx-w, cy+dy-r*0.25, cx+w, cy+dy+r*0.25],\n                 start=180, end=0, fill=col, width=int\\(r*0.12\\)\\)\n\ndef draw_heart\\(draw, cx, cy, r, col\\):\n    s = r * 0.55\n    draw.ellipse\\([cx-s, cy-r*0.35, cx, cy+r*0.05], fill=col\\)\n    draw.ellipse\\([cx, cy-r*0.35, cx+s, cy+r*0.05], fill=col\\)\n    draw.polygon\\([\\(cx-s, cy-r*0.05\\), \\(cx+s, cy-r*0.05\\), \\(cx, cy+r*0.55\\)], fill=col\\)\n\ndef draw_bolt\\(draw, cx, cy, r, col\\):\n    pts = [\\(cx+r*0.1, cy-r*0.65\\), \\(cx-r*0.25, cy+r*0.05\\),\n           \\(cx+r*0.08, cy+r*0.05\\), \\(cx-r*0.1, cy+r*0.65\\),\n           \\(cx+r*0.32, cy-r*0.05\\), \\(cx-r*0.02, cy-r*0.05\\)]\n    draw.polygon\\(pts, fill=col\\)\n\ndef draw_circle\\(draw, cx, cy, r, col\\):\n    m = r * 0.38\n    draw.ellipse\\([cx-m, cy-m, cx+m, cy+m], fill=col\\)\n    # ring\n    w = int\\(r * 0.1\\)\n    draw.ellipse\\([cx-r*0.58, cy-r*0.58, cx+r*0.58, cy+r*0.58], outline=col, width=w\\)\n\nSHAPES = {\n    \"person\": draw_person,\n    \"leaf\":   draw_leaf,\n    \"diamond\":draw_diamond,\n    \"star\":   draw_star,\n    \"wave\":   draw_wave,\n    \"heart\":  draw_heart,\n    \"bolt\":   draw_bolt,\n    \"circle\": draw_circle,\n}\n\nfor i, \\(name, bg, acc, shape\\) in enumerate\\(PRESETS, 1\\):\n    img = Image.new\\(\"RGBA\", \\(SIZE, SIZE\\), \\(0,0,0,0\\)\\)\n    draw = ImageDraw.Draw\\(img\\)\n\n    # circular background\n    draw.ellipse\\([0, 0, SIZE-1, SIZE-1], fill=bg\\)\n\n    # subtle inner ring for depth\n    rw = int\\(SIZE * 0.05\\)\n    draw.ellipse\\([rw, rw, SIZE-1-rw, SIZE-1-rw], outline=\\(*acc, 60\\), width=int\\(SIZE*0.03\\)\\)\n\n    # shape\n    cx, cy, r = SIZE//2, SIZE//2, SIZE//2\n    SHAPES[shape]\\(draw, cx, cy, r, acc\\)\n\n    path = os.path.join\\(OUT, f\"preset-{i}.png\"\\)\n    img.save\\(path, \"PNG\", optimize=True\\)\n    print\\(f\"✓ preset-{i}.png  \\({name}, {shape}\\)\"\\)\n\nprint\\(\"Todos os avatares gerados!\"\\)\nPYEOF)",
      "Bash(npx tsc --noEmit -p apps/web/tsconfig.json 2>&1 | head -60)",
      "Bash(npx tsc --noEmit -p apps/web/tsconfig.json 2>&1)",
      "Bash(node -e \"const axios = require\\('/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/node_modules/axios/index.js'\\); const inst = axios.create\\({baseURL: 'http://localhost:3001/api'}\\); const req = inst.getUri\\({url: '/v1/restaurantes/stats/global'}\\); console.log\\(req\\);\" 2>/dev/null || echo \"failed\")",
      "Bash(node -e \"\nconst path = require\\('path'\\);\ntry {\n  // Try to load axios and test URL resolution\n  const axiosPath = '/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/node_modules/axios';\n  const {default: axios} = require\\(axiosPath\\);\n  const inst = axios.create\\({baseURL: 'http://localhost:3001/api'}\\);\n  console.log\\(inst.defaults.baseURL\\);\n} catch\\(e\\) {\n  console.log\\('error:', e.message\\);\n}\")",
      "Bash(node -e \"\ntry {\n  const axiosPath = '/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/node_modules/axios';\n  const {default: axios} = require\\(axiosPath\\);\n  const inst = axios.create\\({baseURL: 'http://localhost:3001/api'}\\);\n  const url1 = inst.getUri\\({url: '/v1/restaurantes/stats/global'}\\);\n  const url2 = inst.getUri\\({url: 'v1/restaurantes/stats/global'}\\);\n  console.log\\('with leading slash:', url1\\);\n  console.log\\('without leading slash:', url2\\);\n} catch\\(e\\) {\n  console.log\\('error:', e.message\\);\n}\")",
      "Bash(node -e \"const p = require\\('/home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/node_modules/axios/package.json'\\); console.log\\(p.version\\)\")",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/api && npx prisma migrate dev --name add-descricao-lista 2>&1)",
      "Bash(cd /home/devos/Codigos-vscode/ListaKaizenApp-MultiTenant/apps/web && npx tsc --noEmit 2>&1 | head -40)"
    ],
    "deny": [],
    "ask": []
  }
}
